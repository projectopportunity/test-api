const { Sequelize } = require('sequelize')

const sequelze = new Sequelize('sqlite::memory:')

class DataStore {
  init (connectionString) {
    let myURL
    try {
      myURL = new URL(connectionString)
    } catch (error) {
      throw new Error('the init method requires a connection string parameter that is in the form of a URI')
    }

    // if (!connectionString ||
    //   typeof connectionString !== 'string') {
        
    // }

  }


  createUser () {}
}

let sharedInstance = null

module.exports = () => {
  if (sharedInstance === null) {
    sharedInstance = new DataStore()
  }

  return sharedInstance
}
