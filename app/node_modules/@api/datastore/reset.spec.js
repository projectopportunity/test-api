/* eslint-env mocha */
'use strict'

const T = require('./index.js')
const CONNECTION_STRING = 'sqlite::memory:'
let instance

describe('the datastore module', () => { 
  before(() => {
    instance = T()
  })

  it('should have a property called "reset"', () => {
    expect(instance).to.have.property('reset')
  })
  
  describe('the "reset" property', () => {
    it('should be a function', () => {
      const expected = 'function'
      const actual = typeof instance.reset
      expect(actual).to.equal(expected)
    })

    describe('the returned value', () => {
      it('should be a promise', () => {
        const result = instance.reset()
        return expect(result).to.be.fulfilled
      })
    })
  })
})