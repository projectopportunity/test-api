module.exports = (req, res, next) => {
  const validationErrorMessages = []

  const requiredFields = [
    'firstName',
    'lastName'
  ]

  requiredFields.forEach((field) => {
    if (req.body[field] == null) {
      validationErrorMessages.push(`missing required field ${field}`)
    }
  })

  if (validationErrorMessages.length > 0) {
    const err = new Error('')
    err.validationErrorMessages = validationErrorMessages
    throw err
  } else {
    res.location('/').status(201)
  }

  next() 
}
